sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/MessageToast","sap/m/MessageBox"],function(e,t,o,s,n){"use strict";return e.extend("project.controller.account",{onInit:function(){var e=this.getOwnerComponent().getModel("userModel");if(!e){sap.m.MessageBox.warning("User model not found.");return}},onChangePassword:function(){var e=this.getOwnerComponent().getModel();var t=this.getOwnerComponent().getModel("userModel");var o=t.getProperty("/id");var s=this;sap.m.InputDialog=new sap.m.Dialog({title:"Change Password",icon:"sap-icon://key",content:[new sap.m.Input("newPasswordInput",{type:"Password",placeholder:"Enter new password"})],beginButton:new sap.m.Button({text:"Submit",press:function(){var t=sap.ui.getCore().byId("newPasswordInput").getValue();if(!t){sap.m.MessageToast.show("Please enter a valid address.");return}e.update("/Customer('"+o+"')",{password:t},{success:function(){sap.m.MessageToast.show("Password updated successfully.");sap.m.InputDialog.close()},error:function(e){sap.m.MessageToast.show("Failed to update password.");console.error("Update error:",e);sap.m.InputDialog.close()}})}}),endButton:new sap.m.Button({text:"Cancel",press:function(){sap.m.InputDialog.close()}}),afterClose:function(){sap.m.InputDialog.destroy()}});sap.m.InputDialog.open()},onChangeAddress:function(){var e=this.getOwnerComponent().getModel();var t=this.getOwnerComponent().getModel("userModel");var o=t.getProperty("/id");var s=this;var n=new sap.m.Dialog({title:"Change Address",icon:"sap-icon://addresses",content:[new sap.m.Input("newAddressInput",{placeholder:"Enter new address"})],beginButton:new sap.m.Button({text:"Submit",press:function(){var t=sap.ui.getCore().byId("newAddressInput").getValue();if(!t){sap.m.MessageToast.show("Please enter a valid address.");return}e.update("/Customer('"+o+"')",{address:t},{success:function(){sap.m.MessageToast.show("Address updated successfully.");n.close()},error:function(e){sap.m.MessageToast.show("Failed to update address.");console.error("Address update error:",e);n.close()}})}}),endButton:new sap.m.Button({text:"Cancel",press:function(){n.close()}}),afterClose:function(){n.destroy()}});n.open()},onMenuPress:function(e){if(!this._oMenuSheet){this._oMenuSheet=new sap.m.ActionSheet({buttons:[new sap.m.Button({text:"My Orders",icon:"sap-icon://order-status",press:()=>{const e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Orders")}}),new sap.m.Button({text:"Account",icon:"sap-icon://account",press:()=>{var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("account")}})],placement:sap.m.PlacementType.Bottom,class:"customActionSheet"});this.getView().addDependent(this._oMenuSheet)}this._oMenuSheet.openBy(e.getSource())},onLoginPress:function(){this.getOwnerComponent().onLoginPress(this.getView())},onProfilePress:function(){this.getOwnerComponent().onProfilePress(this.getView())},onRegister:function(){this.getOwnerComponent().onRegister(this.getView())},onToggleForm:function(){this.getOwnerComponent().onToggleForm(this.getView())},onForgotPasswordPress:function(){this.getOwnerComponent().onForgotPasswordPress()},onToggleLoginPasswordVisibility:function(){this.getOwnerComponent().onToggleLoginPasswordVisibility(this.getView())},onToggleRegisterPasswordVisibility:function(){this.getOwnerComponent().onToggleRegisterPasswordVisibility(this.getView())},onCloseLoginDialog:function(){this.getOwnerComponent().onCloseLoginDialog(this.getView())}})});
//# sourceMappingURL=account.controller.js.map